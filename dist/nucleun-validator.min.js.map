{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 98bd5d36ff95d4d57954","webpack:///./src/index.js","webpack:///./src/Validator.js","webpack:///./~/nucleun-module/dist/nucleun-module.min.js","webpack:///./src/validation-types/index.js","webpack:///./src/validation-types/array.js","webpack:///./src/validation-types/required.js","webpack:///./src/validation-types/string.js","webpack:///./src/validation-types/type.js"],"names":["ValidationTypes","Validator","_reset","use","field","validationFn","validationResult","call","validate","message","validationErrors","key","push","isValid","value","default","Promise","resolve","reject","_setDefaultFieldValue","_validateFieldValue","fields","validationPromise","Array","isArray","all","map","validateField","then","catch","array","boolean","date","number","required","string","type","Error","valueType","toString","replace","fieldType"],"mappings":"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","file":"dist/nucleun-validator.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nucleun\"] = factory();\n\telse\n\t\troot[\"Nucleun\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 98bd5d36ff95d4d57954","import Validator from './Validator';\nexport ValidationTypes from './validation-types';\nexport default Validator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { Module } from 'nucleun-module';\nimport { array, boolean, date, number, object, required, string, type } from './validation-types';\n\nexport default class Validator extends Module {\n  constructor() {\n    super();\n\n    this._reset();\n\n    this.use('array', array);\n    // this.use('boolean', boolean);\n    // this.use('date', date);\n    // this.use('number', number);\n    this.use('object', object);\n    this.use('required', required);\n    this.use('type', type);\n    this.use('string', string);\n  }\n\n  _validateFieldValue(field, validationFn) {\n    const validationResult = typeof validationFn === 'function' ?\n      validationFn.call(validationFn, field) :\n      this[validationFn || field.validate](field);\n\n\n\n    if (validationResult.message) {\n      this.validationErrors[field.key] = this.validationErrors[field.key] || [];\n      this.validationErrors[field.key].push(validationResult.message);\n      this.isValid = false;\n    }\n  }\n\n  _setDefaultFieldValue(field) {\n    field.value = (!field.value && typeof field.default === 'function') ?\n      field.default(field) :\n      field.value || field.default;\n  }\n\n  validateField(field) {\n    return new Promise((resolve, reject) => {\n      this._setDefaultFieldValue(field);\n\n      if (!this._validateFieldValue(field, 'type')) {\n        reject(this.validationErrors);\n      }\n\n      if (!this._validateFieldValue(field, 'required')) {\n        reject(this.validationErrors);\n      }\n\n      if (!this._validateFieldValue(field, field.validate)) {\n        reject(this.validationErrors);\n      }\n\n      resolve(field);\n    });\n  }\n\n  _reset() {\n    this.validationErrors = {};\n    this.isValid = false;\n  }\n\n  validate(fields) {\n    const validationPromise = Array.isArray(fields) ?\n      Promise.all(fields.map(field => this.validateField(field))) :\n      this.validateField(fields);\n\n    this._reset();\n\n    return validationPromise\n      .then((fields) => {\n        this.isValid = true;\n        return fields;\n      })\n      .catch((validationErrors) => {\n        return { validationErrors };\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Validator.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nucleun\"] = factory();\n\telse\n\t\troot[\"Nucleun\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Module = undefined;\n\t\n\tvar _Module2 = __webpack_require__(1);\n\t\n\tvar _Module3 = _interopRequireDefault(_Module2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Module = _Module3.default;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Module = function () {\n\t  function Module() {\n\t    _classCallCheck(this, Module);\n\t\n\t    this.$modules = {};\n\t\n\t    return new Proxy(this, {\n\t      get: function get(target, name) {\n\t        if (typeof target[name] === 'undefined') {\n\t          return target.$modules[name];\n\t        }\n\t        return target[name];\n\t      }\n\t    });\n\t  }\n\t\n\t  _createClass(Module, [{\n\t    key: 'use',\n\t    value: function use(name, fn) {\n\t      this.$modules[name] = fn;\n\t      return this;\n\t    }\n\t  }]);\n\t\n\t  return Module;\n\t}();\n\t\n\texports.default = Module;\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=nucleun-module.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/nucleun-module/dist/nucleun-module.min.js\n// module id = 2\n// module chunks = 0","export array from './array';\nexport boolean from './boolean';\nexport date from './date';\nexport number from './number';\nexport required from './required';\nexport string from './string';\nimport _type from './type';\nexport const type = _type;\n\n\n\n// WEBPACK FOOTER //\n// ./src/validation-types/index.js","export default (field, message) => {\n  if (Array.isArray(field.value)) {\n    return true;\n  }\n\n  return new Error(message || `Field \"${field.key}\" is invalid`);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/validation-types/array.js","export default (field, message) => {\n  if (field.value) {\n    return true;\n  }\n\n  return new Error(message || `Field \"${field.key}\" is required`);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/validation-types/required.js","export default (field, message) => {\n  if (typeof field.value === 'string') {\n    return true;\n  }\n\n  return new Error(message || `Field \"${field.key}\" is invalid`);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/validation-types/string.js","export default (field, message) => {\n  const valueType = {}.toString.call(field.value).replace(/\\[object\\s(.+).*\\]/, '$1');\n  const fieldType = field.type.toString().replace(/function\\s(.+)\\(\\).*/, '$1');\n\n\n  if (fieldType === valueType) {\n    return true;\n  }\n\n  return new Error(message || `Type of \"${field.key}\" is invalid`);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/validation-types/type.js"],"sourceRoot":""}